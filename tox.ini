[tox]
envlist = py{38, 312}
skipsdist = True

[doc8]
max-line-length = 120

[pycodestyle]
exclude = .git,.tox,migrations
ignore = E722,W504
max-line-length = 120

[pydocstyle]
ignore = D101,D200,D203,D212,D215,D404,D405,D406,D407,D408,D409,D410,D411,D412,D413,D414

[pytest]
norecursedirs = .* requirements

[testenv]
deps = 
    -r{toxinidir}/requirements/testing.txt
allowlist_externals = 
    make
commands = 
    make clean
    pycodestyle .
    pylint jenkins
    isort --check-only --diff jenkins
    make selfcheck
    pytest --cov-report term-missing --cov=jenkins jenkins

